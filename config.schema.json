{
  "pluginAlias": "Govee",
  "pluginType": "platform",
  "singular": true,
  "customUi": true,
  "customUiPath": "./lib/homebridge-ui",
  "headerDisplay": "<p align=\"center\"><img width=\"60%\" src=\"https://user-images.githubusercontent.com/43026681/101324574-5e997d80-3862-11eb-81b0-932330f6e242.png\"></p><p align=\"center\">For help and support please visit our <a href=\"https://github.com/bwp91/homebridge-govee/wiki\">GitHub Wiki</a>. We hope you find this plugin useful!</p>",
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "type": "string",
        "default": "Govee"
      },
      "apiKey": {
        "type": "string",
        "title": "Govee API Key",
        "description": "You can obtain your API key using <a href=\"https://github.com/bwp91/homebridge-govee/wiki/Configuration#obtaining-your-api-key\" target=\"_blank\">this guide</a>.",
        "required": true
      },
      "refreshTime": {
        "title": "Refresh Timer",
        "type": "number",
        "description": "An interval (in seconds) in which your devices will refresh with Govee. Must be 15 or more.",
        "placeholder": 15,
        "minimum": 15
      },
      "controlInterval": {
        "title": "Control Interval",
        "type": "number",
        "description": "A minimum delay (in milliseconds) between device updates being sent. Increasing this may help if you find device updates are not working or if you use HomeKit scenes/groupings. Must be 500 or more.",
        "placeholder": 500,
        "minimum": 500
      },
      "disableDeviceLogging": {
        "type": "boolean",
        "title": "Disable Device Logging",
        "description": "If true, updates for all devices will not be added to the log when they are controlled."
      },
      "debug": {
        "title": "Debug Logging",
        "type": "boolean",
        "description": "If true, more information will be added to the log."
      },
      "debugFakegato": {
        "type": "boolean"
      },
      "disablePlugin": {
        "title": "Disable Plugin",
        "type": "boolean",
        "description": "If true, the plugin will remove all accessories and not load the plugin on restart."
      },
      "switchDevices": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "deviceId": {
              "title": "Govee Device ID",
              "type": "string",
              "description": "Govee Device ID of the device these settings apply to, e.g. 12:AB:A1:C5:A8:99:D2:17."
            },
            "label": {
              "title": "Label",
              "type": "string",
              "description": "This setting has no effect except to be a helpful label for identifying which device this is when editing the configuration."
            },
            "overrideDisabledLogging": {
              "type": "boolean",
              "title": "Override Disabled Logging",
              "description": "If true, updates for this device will be added to the log, even if the general 'Disable Device Logging' setting is true.",
              "condition": {
                "functionBody": "return model.disableDeviceLogging;"
              }
            }
          }
        }
      },
      "lightDevices": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "deviceId": {
              "title": "Govee Device ID",
              "type": "string",
              "description": "Govee Device ID of the device these settings apply to, e.g. 12:AB:A1:C5:A8:99:D2:17."
            },
            "label": {
              "title": "Label",
              "type": "string",
              "description": "This setting has no effect except to be a helpful label for identifying which device this is when editing the configuration."
            },
            "exposeScenes": {
              "title": "Expose Scenes",
              "type": "boolean",
              "description": "This feature is under development and currently has no effect"
            },
            "brightnessStep": {
              "title": "Brightness Step",
              "type": "number",
              "description": "A minimum step for the brightness slider in the Home app. Must be 1 or more.",
              "placeholder": 1,
              "minimum": 1
            },
            "adaptiveLightingShift": {
              "title": "Adaptive Lighting Shift",
              "type": "number",
              "description": "An adjustment factor for Adaptive Lighting. The mired value for each update will be increased by this setting, making the light appear warmer. A value in the range 50-200 should be appropriate. Must be 0 or more.",
              "placeholder": 0,
              "minimum": 0
            },
            "overrideDisabledLogging": {
              "type": "boolean",
              "title": "Override Disabled Logging",
              "description": "If true, updates for this device will be added to the log, even if the general 'Disable Device Logging' setting is true.",
              "condition": {
                "functionBody": "return model.disableDeviceLogging;"
              }
            }
          }
        }
      },
      "ignoredDevices": {
        "title": "Ignored Devices",
        "type": "array",
        "items": {
          "type": "string",
          "title": "Govee Device ID",
          "description": "Govee Device ID of the device you wish to ignore, e.g. 12:AB:A1:C5:A8:99:D2:17."
        }
      }
    }
  },
  "layout": [{
      "type": "fieldset",
      "title": "Required Settings",
      "description": "If you are configuring this plugin for the first time, you may want to just fill out this field and save your settings. You can always return later to explore the rest of the options.",
      "items": [
        "apiKey"
      ]
    },
    {
      "type": "fieldset",
      "title": "Optional Settings",
      "expandable": true,
      "items": [
        "refreshTime",
        "controlInterval",
        "disableDeviceLogging",
        "debug",
        "disablePlugin"
      ]
    },
    {
      "key": "switchDevices",
      "expandable": true,
      "title": "Switch Devices",
      "add": "Add Another Device",
      "type": "array",
      "items": [{
        "type": "fieldset",
        "items": [
          "switchDevices[].deviceId",
          "switchDevices[].label",
          "switchDevices[].overrideDisabledLogging"
        ]
      }]
    },
    {
      "key": "lightDevices",
      "expandable": true,
      "title": "Light Devices",
      "add": "Add Another Device",
      "type": "array",
      "items": [{
        "type": "fieldset",
        "items": [
          "lightDevices[].deviceId",
          "lightDevices[].label",
          "lightDevices[].exposeScenes",
          "lightDevices[].brightnessStep",
          "lightDevices[].adaptiveLightingShift",
          "lightDevices[].overrideDisabledLogging"
        ]
      }]
    },
    {
      "key": "ignoredDevices",
      "expandable": true,
      "title": "Ignored Devices",
      "add": "Add Another Device",
      "type": "array",
      "items": [{
        "type": "fieldset",
        "items": [
          "ignoredDevices[]"
        ]
      }]
    }
  ]
}